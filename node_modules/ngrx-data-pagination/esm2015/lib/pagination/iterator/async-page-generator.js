/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
// TODO fix TS setup for AsyncPageGenerator types
// export type AsyncPageGenerator<Entity> = AsyncGenerator<Entity[], Entity[], any>;
/**
 * @template Entity, State
 * @param {?} paginationFunction
 * @return {?}
 */
export function asyncPageGenerator(paginationFunction) {
    return tslib_1.__asyncGenerator(this, arguments, function* asyncPageGenerator_1() {
        // : AsyncGenerator<Entity[], Entity[], any>
        /** @type {?} */
        let page = {
            data: undefined,
            state: undefined,
            done: false,
        };
        while (true) {
            page = yield tslib_1.__await(paginationFunction(page.state));
            if (page.done) {
                return yield tslib_1.__await(page.data);
            }
            yield yield tslib_1.__await(page.data);
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN5bmMtcGFnZS1nZW5lcmF0b3IuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3J4LWRhdGEtcGFnaW5hdGlvbi8iLCJzb3VyY2VzIjpbImxpYi9wYWdpbmF0aW9uL2l0ZXJhdG9yL2FzeW5jLXBhZ2UtZ2VuZXJhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQU1BLE1BQU0sVUFBaUIsa0JBQWtCLENBQ3ZDLGtCQUFxRDs7OztZQUdqRCxJQUFJLEdBQXdCO1lBQzlCLElBQUksRUFBRSxTQUFTO1lBQ2YsS0FBSyxFQUFFLFNBQVM7WUFDaEIsSUFBSSxFQUFFLEtBQUs7U0FDWjtRQUVELE9BQU8sSUFBSSxFQUFFO1lBQ1gsSUFBSSxHQUFHLHNCQUFNLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQSxDQUFDO1lBQzVDLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDYiw2QkFBTyxJQUFJLENBQUMsSUFBSSxFQUFDO2FBQ2xCO1lBQ0QsNEJBQU0sSUFBSSxDQUFDLElBQUksQ0FBQSxDQUFDO1NBQ2pCO0lBQ0gsQ0FBQztDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZSwgUGFnaW5hdGlvbkZ1bmN0aW9uIH0gZnJvbSAnLi9wYWdpbmF0aW9uLWZ1bmN0aW9uJztcblxuLy8gVE9ETyBmaXggVFMgc2V0dXAgZm9yIEFzeW5jUGFnZUdlbmVyYXRvciB0eXBlc1xuXG4vLyBleHBvcnQgdHlwZSBBc3luY1BhZ2VHZW5lcmF0b3I8RW50aXR5PiA9IEFzeW5jR2VuZXJhdG9yPEVudGl0eVtdLCBFbnRpdHlbXSwgYW55PjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBhc3luY1BhZ2VHZW5lcmF0b3I8RW50aXR5LCBTdGF0ZT4oXG4gIHBhZ2luYXRpb25GdW5jdGlvbjogUGFnaW5hdGlvbkZ1bmN0aW9uPEVudGl0eSwgU3RhdGU+LFxuKSB7XG4gIC8vIDogQXN5bmNHZW5lcmF0b3I8RW50aXR5W10sIEVudGl0eVtdLCBhbnk+XG4gIGxldCBwYWdlOiBQYWdlPEVudGl0eSwgU3RhdGU+ID0ge1xuICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICBzdGF0ZTogdW5kZWZpbmVkLFxuICAgIGRvbmU6IGZhbHNlLFxuICB9O1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgcGFnZSA9IGF3YWl0IHBhZ2luYXRpb25GdW5jdGlvbihwYWdlLnN0YXRlKTtcbiAgICBpZiAocGFnZS5kb25lKSB7XG4gICAgICByZXR1cm4gcGFnZS5kYXRhO1xuICAgIH1cbiAgICB5aWVsZCBwYWdlLmRhdGE7XG4gIH1cbn1cblxuLy8gZXhwb3J0IGNvbnN0IGV4YW1wbGVQYWdpbmF0aW9uRnVuY3Rpb246IFBhZ2luYXRpb25GdW5jdGlvbjxudW1iZXIsIG51bWJlcj4gPSBzdGF0ZSA9PlxuLy8gICBQcm9taXNlLnJlc29sdmUoeyBkYXRhOiBbc3RhdGVdLCBzdGF0ZTogc3RhdGUgKyAxLCBkb25lOiBmYWxzZSwgfSk7XG5cbi8vIGV4cG9ydCBjb25zdCBleGFtcGxlQXN5bmNQYWdlR2VuZXJhdG9yID0gYXN5bmNQYWdlR2VuZXJhdG9yKGV4YW1wbGVQYWdpbmF0aW9uRnVuY3Rpb24pO1xuXG4vLyBjb25zdCBmID0gYXN5bmMgKCkgPT4ge1xuLy8gICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgZXhhbXBsZUFzeW5jUGFnZUdlbmVyYXRvcikge1xuLy8gICAgIGNvbnNvbGUubG9nKCdwYWdlJywgcGFnZSk7XG4vLyAgIH1cbi8vIH07XG4iXX0=