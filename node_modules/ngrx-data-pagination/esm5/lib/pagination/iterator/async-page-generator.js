/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
// TODO fix TS setup for AsyncPageGenerator types
// export type AsyncPageGenerator<Entity> = AsyncGenerator<Entity[], Entity[], any>;
/**
 * @template Entity, State
 * @param {?} paginationFunction
 * @return {?}
 */
export function asyncPageGenerator(paginationFunction) {
    return tslib_1.__asyncGenerator(this, arguments, function asyncPageGenerator_1() {
        var page;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    // : AsyncGenerator<Entity[], Entity[], any>
                    page = {
                        data: undefined,
                        state: undefined,
                        done: false,
                    };
                    _a.label = 1;
                case 1:
                    if (!true) return [3 /*break*/, 7];
                    return [4 /*yield*/, tslib_1.__await(paginationFunction(page.state))];
                case 2:
                    page = _a.sent();
                    if (!page.done) return [3 /*break*/, 4];
                    return [4 /*yield*/, tslib_1.__await(page.data)];
                case 3: return [2 /*return*/, _a.sent()];
                case 4: return [4 /*yield*/, tslib_1.__await(page.data)];
                case 5: return [4 /*yield*/, _a.sent()];
                case 6:
                    _a.sent();
                    return [3 /*break*/, 1];
                case 7: return [2 /*return*/];
            }
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN5bmMtcGFnZS1nZW5lcmF0b3IuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3J4LWRhdGEtcGFnaW5hdGlvbi8iLCJzb3VyY2VzIjpbImxpYi9wYWdpbmF0aW9uL2l0ZXJhdG9yL2FzeW5jLXBhZ2UtZ2VuZXJhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQU1BLE1BQU0sVUFBaUIsa0JBQWtCLENBQ3ZDLGtCQUFxRDs7Ozs7OztvQkFHakQsSUFBSSxHQUF3Qjt3QkFDOUIsSUFBSSxFQUFFLFNBQVM7d0JBQ2YsS0FBSyxFQUFFLFNBQVM7d0JBQ2hCLElBQUksRUFBRSxLQUFLO3FCQUNaOzs7eUJBRU0sSUFBSTtvQkFDRixxQ0FBTSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUE7O29CQUEzQyxJQUFJLEdBQUcsU0FBb0MsQ0FBQzt5QkFDeEMsSUFBSSxDQUFDLElBQUksRUFBVCx3QkFBUzt5REFDSixJQUFJLENBQUMsSUFBSTt3QkFBaEIsaUNBQWlCOzZEQUViLElBQUksQ0FBQyxJQUFJO3dCQUFmLGdDQUFlOztvQkFBZixTQUFlLENBQUM7Ozs7OztDQUVuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2UsIFBhZ2luYXRpb25GdW5jdGlvbiB9IGZyb20gJy4vcGFnaW5hdGlvbi1mdW5jdGlvbic7XG5cbi8vIFRPRE8gZml4IFRTIHNldHVwIGZvciBBc3luY1BhZ2VHZW5lcmF0b3IgdHlwZXNcblxuLy8gZXhwb3J0IHR5cGUgQXN5bmNQYWdlR2VuZXJhdG9yPEVudGl0eT4gPSBBc3luY0dlbmVyYXRvcjxFbnRpdHlbXSwgRW50aXR5W10sIGFueT47XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiogYXN5bmNQYWdlR2VuZXJhdG9yPEVudGl0eSwgU3RhdGU+KFxuICBwYWdpbmF0aW9uRnVuY3Rpb246IFBhZ2luYXRpb25GdW5jdGlvbjxFbnRpdHksIFN0YXRlPixcbikge1xuICAvLyA6IEFzeW5jR2VuZXJhdG9yPEVudGl0eVtdLCBFbnRpdHlbXSwgYW55PlxuICBsZXQgcGFnZTogUGFnZTxFbnRpdHksIFN0YXRlPiA9IHtcbiAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgc3RhdGU6IHVuZGVmaW5lZCxcbiAgICBkb25lOiBmYWxzZSxcbiAgfTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHBhZ2UgPSBhd2FpdCBwYWdpbmF0aW9uRnVuY3Rpb24ocGFnZS5zdGF0ZSk7XG4gICAgaWYgKHBhZ2UuZG9uZSkge1xuICAgICAgcmV0dXJuIHBhZ2UuZGF0YTtcbiAgICB9XG4gICAgeWllbGQgcGFnZS5kYXRhO1xuICB9XG59XG5cbi8vIGV4cG9ydCBjb25zdCBleGFtcGxlUGFnaW5hdGlvbkZ1bmN0aW9uOiBQYWdpbmF0aW9uRnVuY3Rpb248bnVtYmVyLCBudW1iZXI+ID0gc3RhdGUgPT5cbi8vICAgUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogW3N0YXRlXSwgc3RhdGU6IHN0YXRlICsgMSwgZG9uZTogZmFsc2UsIH0pO1xuXG4vLyBleHBvcnQgY29uc3QgZXhhbXBsZUFzeW5jUGFnZUdlbmVyYXRvciA9IGFzeW5jUGFnZUdlbmVyYXRvcihleGFtcGxlUGFnaW5hdGlvbkZ1bmN0aW9uKTtcblxuLy8gY29uc3QgZiA9IGFzeW5jICgpID0+IHtcbi8vICAgZm9yIGF3YWl0IChjb25zdCBwYWdlIG9mIGV4YW1wbGVBc3luY1BhZ2VHZW5lcmF0b3IpIHtcbi8vICAgICBjb25zb2xlLmxvZygncGFnZScsIHBhZ2UpO1xuLy8gICB9XG4vLyB9O1xuIl19